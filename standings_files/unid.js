!function(e,t,n,a){!function(){try{new window.CustomEvent("test")}catch(t){var e=function(e,t){t=t||{bubbles:!1,cancelable:!1,detail:void 0};var n=document.createEvent("CustomEvent");return n.initCustomEvent(e,t.bubbles,t.cancelable,t.detail),n};e.prototype=window.Event.prototype,window.CustomEvent=e}}();var i="com.go.unid",o=function(e){console.log("unid: "+e)},d=a.protocol+"//cdn.unid.go.com",r=function(e){return(document.cookie.match("(?:^|;\\s*)"+e+"\\s*=\\s*([^;]+)")||0)[1]},u=function(e,t,n,a){var i=new Date;i.setTime(i.getTime()+15768e7),document.cookie=e+"="+(void 0===t?"":t)+";path="+(a||"/")+";expires="+(void 0===t?"Thu, 01 Jan 1970 00:00:01 GMT":i.toUTCString())+(n?";domain="+n:"")},s=function(){if(!localStorage||!localStorage.getItem("com.go.unid:unknown")){localStorage.setItem("com.go.unid:unknown",1);var t=new(e.XMLHttpRequest||ActiveXObject)("MSXML2.XMLHTTP.3.0");t.open("POST",e.location.protocol+"//unid.go.com/unknown",!0),t.setRequestHeader("Content-Type","application/json;charset=UTF-8"),t.send(JSON.stringify({cn:document.cookie.replace(/=[^;]*/g,""),h:a.hostname,href:a.href,r:n.referrer}))}},c=r("UNID"),l=function(){h.className="",T.postMessage(JSON.stringify({action:"check",data:unid._data}),d)},v=function(){u("UNID");for(var e=a.host.split(":")[0].split("."),t="."+e.pop(),n=0;n<e.length;n++)t=e.pop()+t,e.length&&(t="."+t),u("UNID",void 0,t),r("UNID")||(e=[])},m=function(t){unid.new="sync"!==unid.reason&&t&&t!==e.unid.value,e.unid.value=t,e.unid._data&&(e.unid._data.unid=t);var a=unid.getData();n.dispatchEvent(new CustomEvent("unid.value",{detail:a})),e.unid.cbGet&&e.unid.cbGet(t),e.unid.cbData&&e.unid.cbData(a)},g=function(t,a){o("abort "+t);var d=(new Date).getTime();if(n.dispatchEvent(new CustomEvent("unid.abort",{detail:unid.getData()})),m(void 0),"denied"!==t&&"swid_nt"!==t&&!(localStorage&&d-Number(localStorage.getItem(i+":abort")||0)>72e6))try{localStorage.setItem(i+":abort",d);var r=new(e.XMLHttpRequest||ActiveXObject)("MSXML2.XMLHTTP.3.0");r.open("GET",e.location.protocol+"//unid.go.com/abort",!0),r.setRequestHeader("Content-Type","text/plain"),r.setRequestHeader("_","f`"+(parent!==e?1:0)+"``h`"+e.location.hostname+(a?"``e`"+a:"")+"``"+t+"`1"),r.send()}catch(e){}},f=function(e){try{localStorage.setItem(i+":data",JSON.stringify(e))}catch(e){return g("nostorage",e.message)}};if(e.unid={_data:{},clear:function(t){t&&(e.unid.clearCB=t),v(),localStorage.removeItem(i+":abort"),localStorage.removeItem(i+":data"),delete unid._data.unid,delete unid.value,unid.new=!1,unid.silo=!1,unid._data.lsData={},unid.reason="cleared",T&&T.postMessage('{"action":"clear"}',d)},get:function(t){var n=r("UNID");return t&&(n?t(n):e.unid.cbGet=t),n},getData:function(t){var n={new:e.unid.new,reason:e.unid.reason,silo:e.unid.silo,unid:e.unid.value};return t&&(n.unid?t(n):e.unid.cbData=t),n},vconsent:function(t,n,a,i){unid._data.vexpired=new Date-n>=63072e6;var o=void 0===unid._data.lsData.VCONSENT?2:unid._data.lsData.VCONSENT;unid._data.vexpired&&(t=void 0,delete unid._data.lsData.VCONSENT,delete unid._data.lsData.VCONSENTTIME,delete unid._data.lsData.SWID,delete unid._data.lsData.ANON);var d=void 0===t?2:t?1:0;return o===d?(i&&i({unid:unid.value,reason:unid.reason,type:unid.type}),!1):(2!==d&&(1===d&&(unid.silo=!1),unid._data.lsData.VCONSENT=d,unid._data.lsData.VCONSENTTIME=n.getTime()),unid._data.user=a,unid._data.update=1,2===o&&0===d||0===o&&2===d||(unid._data.unid=void 0,delete unid._data.lsData.UNID),f(unid._data.lsData),l(),i&&(e.unid.cbData=i),!0)},new:!1,reason:c?"return":"new",silo:!1,value:c,version:"3.3.27"},!t.cookieEnabled)return g("cookieless");var p=!1;try{var w=window.RequestFileSystem||window.webkitRequestFileSystem;if(w)w(window.TEMPORARY,100,function(){},function(){p=!0,g("private")});else{if(!window.indexedDB)throw 1;sessionStorage.setItem(i,i),sessionStorage.removeItem(i)}}catch(e){return g("private")}var D=r("SWID");if("1"==r("SWID_NT"))return unid.clear(),unid.reason="swid_nt",g("swid_nt");if(u(i,i),!r(i))return g("cookiePolicy");u(i);try{var N=i+":test";localStorage.setItem(N,1),localStorage.getItem(N),localStorage.removeItem(N)}catch(e){return g("nostorage")}var S=localStorage.getItem(i+":data");if("[object Object]"===S&&(localStorage.removeItem(i+":data"),S=void 0),S)try{S=JSON.parse(S)}catch(e){return localStorage.removeItem(i+":data"),g("lsDataFailed",e.message)}S=S||{};var h=n.createElement("iframe");h.id="unidFrame",h.style.display="none",h.src=d+"/inner/?v="+e.unid.version;var T,_=function(){n.body.appendChild(h),T=h.contentWindow};n.body?_():n.addEventListener("DOMContentLoaded",_);var b=a.hostname.replace(/\.$/,"").toLowerCase(),E=n.querySelector('script[src*="/js/unid.min.js"]'),I={client:E.getAttribute("data-client"),framed:e.self!=e.top||a!==e.parent.location?1:0,lsData:S,host:b,href:a.href,ref:n.referrer,rutma:r("__rutma"),swid:D,unid:r("UNID"),version:e.unid.version,vrequired:E.getAttribute("data-vrequired"),what:{dnt:t.doNotTrack||t.msDoNotTrack||e.doNotTrack,language:t.language,tzOffset:(new Date).getTimezoneOffset()}};unid._data=I,n.dispatchEvent(new CustomEvent("unid.ready")),h.onload=function(){p?o("honoring private mode"):void 0!==S.VCONSENT?unid.vconsent(S.VCONSENT,new Date(S.VCONSENTTIME))||l():l()};var y=function(t){if(t.origin===d){var n={};try{n=JSON.parse(t.data)}catch(t){return}var i=n.data,o=n.action;if("state"===o){if(h.classList.add("unid_"+i),"cleared"===i&&e.unid.clearCB)return e.unid.clearCB();if("swid_nt"===i)return unid.clear(),unid.reason=i,g(i);if("daa_optout"===i)return unid.clear(),unid.reason=i,g(i);if("denied"===i)return unid.new=!1,unid.reason=i,g(i);"unknown"===i&&s(),"dnt"===i&&(unid.reason=i)}else if("store"===o)unid._data.lsData=i,f(i);else if("clearUNID"===o)v();else if("reason"===o)"new"===i?unid.new=!0:"silo"===i?unid.silo=!0:"sync"===i&&(unid.new=!1,unid.silo=!1),unid.reason=i;else if("unid"===o){if("undefined"===i&&(i=void 0),i){for(var c=a.host.split(":")[0].split("."),l="."+c.pop(),p=0;p<c.length;p++)l=c.pop()+l,c.length&&(l="."+l),u("UNID",i,l),r("UNID")===i&&(c=[]);u("UNID",i),h.classList.add("unid_allowed"),h.dataset.unid=i}m(i)}}};e.addEventListener?addEventListener("message",y,!1):attachEvent("onmessage",y)}(window,navigator,document,window.location);
